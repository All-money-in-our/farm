{"ast":null,"code":"import \"antd/lib/dropdown/style\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/notification/style\";\nimport _notification from \"antd/lib/notification\";\nvar _jsxFileName = \"C:\\\\farm\\\\farm\\\\farm-system\\\\src\\\\component\\\\HeaderNav\\\\HeaderNav.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport styles from '../../style/Admin.module.less';\nimport { clear } from '../../utils/webStorage';\nimport { UserLogout } from '../../api/user';\nconst menuData = [{\n  path: '',\n  name: '个人信息',\n  icon: 'user'\n}, {\n  path: '',\n  name: '个人设置',\n  icon: 'user'\n}, {\n  path: '',\n  name: '退出登录',\n  icon: 'user'\n}];\n\nconst openNotificationWithIcon = (type, msg) => {\n  _notification[type]({\n    message: '退出结果',\n    description: msg,\n    duration: 1\n  });\n};\n\nclass HeaderNav extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.clickMenu = e => {\n      let key = e.key; // console.log(key)\n\n      switch (Number(key)) {\n        case 2:\n          //退出登录\n          //调用接口\n          //删除本地数据\n          // 去不去登录页面随意\n          UserLogout().then(res => {\n            clear();\n            openNotificationWithIcon('success', '退出成功');\n            setTimeout(() => {\n              this.props.history.push('/login');\n            }, 1600);\n          }).catch(err => {\n            openNotificationWithIcon('error', '退出失败请重试');\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n  }\n\n  renderMenu(menuData) {\n    return React.createElement(_Menu, {\n      onClick: this.clickMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, menuData.map((item, index) => {\n      return React.createElement(_Menu.Item, {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, item.name)));\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: styles.headerNav,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(_Dropdown, {\n      overlay: this.renderMenu(menuData),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"root \", React.createElement(_Icon, {\n      type: \"down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withRouter(HeaderNav);","map":{"version":3,"sources":["C:/farm/farm/farm-system/src/component/HeaderNav/HeaderNav.js"],"names":["React","Component","withRouter","styles","clear","UserLogout","menuData","path","name","icon","openNotificationWithIcon","type","msg","message","description","duration","HeaderNav","clickMenu","e","key","Number","then","res","setTimeout","props","history","push","catch","err","renderMenu","map","item","index","render","headerNav"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AAEA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AAEA,MAAMC,QAAQ,GAAG,CAChB;AAAEC,EAAAA,IAAI,EAAE,EAAR;AAAYC,EAAAA,IAAI,EAAE,MAAlB;AAA0BC,EAAAA,IAAI,EAAE;AAAhC,CADgB,EAEhB;AAAEF,EAAAA,IAAI,EAAE,EAAR;AAAYC,EAAAA,IAAI,EAAE,MAAlB;AAA0BC,EAAAA,IAAI,EAAE;AAAhC,CAFgB,EAGhB;AAAEF,EAAAA,IAAI,EAAE,EAAR;AAAYC,EAAAA,IAAI,EAAE,MAAlB;AAA0BC,EAAAA,IAAI,EAAE;AAAhC,CAHgB,CAAjB;;AAMA,MAAMC,wBAAwB,GAAG,CAACC,IAAD,EAAOC,GAAP,KAAe;AAC/C,gBAAaD,IAAb,EAAmB;AAClBE,IAAAA,OAAO,EAAE,MADS;AAElBC,IAAAA,WAAW,EAAEF,GAFK;AAGlBG,IAAAA,QAAQ,EAAE;AAHQ,GAAnB;AAKA,CAND;;AAQA,MAAMC,SAAN,SAAwBf,SAAxB,CAAkC;AAAA;AAAA;;AAAA,SACjCgB,SADiC,GACpBC,CAAD,IAAO;AAAA,UACZC,GADY,GACJD,CADI,CACZC,GADY,EAElB;;AACA,cAAQC,MAAM,CAACD,GAAD,CAAd;AACC,aAAK,CAAL;AACC;AACA;AACA;AACA;AACAd,UAAAA,UAAU,GACRgB,IADF,CACQC,GAAD,IAAS;AACdlB,YAAAA,KAAK;AACLM,YAAAA,wBAAwB,CAAC,SAAD,EAAY,MAAZ,CAAxB;AACAa,YAAAA,UAAU,CAAC,MAAI;AACd,mBAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACA,aAFS,EAER,IAFQ,CAAV;AAGA,WAPF,EAQEC,KARF,CAQSC,GAAD,IAAS;AAEflB,YAAAA,wBAAwB,CAAC,OAAD,EAAU,SAAV,CAAxB;AACA,WAXF;AAYA;;AAED;AACC;AArBF;AAuBA,KA3BgC;AAAA;;AA4BjCmB,EAAAA,UAAU,CAACvB,QAAD,EAAW;AACpB,WACC;AAAM,MAAA,OAAO,EAAE,KAAKW,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEX,QAAQ,CAACwB,GAAT,CAAa,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC9B,aACC,0BAAM,IAAN;AAAW,QAAA,GAAG,EAAEA,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAM,QAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOD,IAAI,CAACvB,IAAZ,CAFD,CADD,CADD;AAQA,KATA,CADF,CADD;AAcA;;AACDyB,EAAAA,MAAM,GAAG;AACR,WACC;AAAK,MAAA,SAAS,EAAE9B,MAAM,CAAC+B,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAU,MAAA,OAAO,EAAE,KAAKL,UAAL,CAAgBvB,QAAhB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACM;AAAM,MAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADN,CADD,CADD,CADD;AASA;;AAtDgC;;AAyDlC,eAAeJ,UAAU,CAACc,SAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nimport styles from '../../style/Admin.module.less'\r\nimport { Dropdown, Menu, Icon, notification,Button } from 'antd'\r\nimport { clear } from '../../utils/webStorage'\r\nimport { UserLogout } from '../../api/user'\r\n\r\nconst menuData = [\r\n\t{ path: '', name: '个人信息', icon: 'user' },\r\n\t{ path: '', name: '个人设置', icon: 'user' },\r\n\t{ path: '', name: '退出登录', icon: 'user' },\r\n\r\n]\r\nconst openNotificationWithIcon = (type, msg) => {\r\n\tnotification[type]({\r\n\t\tmessage: '退出结果',\r\n\t\tdescription: msg,\r\n\t\tduration: 1\r\n\t});\r\n};\r\n\r\nclass HeaderNav extends Component {\r\n\tclickMenu = (e) => {\r\n\t\tlet { key } = e\r\n\t\t// console.log(key)\r\n\t\tswitch (Number(key)) {\r\n\t\t\tcase 2:\r\n\t\t\t\t//退出登录\r\n\t\t\t\t//调用接口\r\n\t\t\t\t//删除本地数据\r\n\t\t\t\t// 去不去登录页面随意\r\n\t\t\t\tUserLogout()\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tclear()\r\n\t\t\t\t\t\topenNotificationWithIcon('success', '退出成功')\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tthis.props.history.push('/login')\r\n\t\t\t\t\t\t},1600)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\r\n\t\t\t\t\t\topenNotificationWithIcon('error', '退出失败请重试')\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\trenderMenu(menuData) {\r\n\t\treturn (\r\n\t\t\t<Menu onClick={this.clickMenu}>\r\n\t\t\t\t{menuData.map((item, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item key={index}>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<Icon type='user'></Icon>\r\n\t\t\t\t\t\t\t\t<span>{item.name}</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</Menu>\r\n\t\t)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={styles.headerNav}>\r\n\t\t\t\t<Dropdown overlay={this.renderMenu(menuData)}>\r\n\t\t\t\t\t<Button>\r\n\t\t\t\t\t\troot <Icon type=\"down\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withRouter(HeaderNav)\r\n"]},"metadata":{},"sourceType":"module"}