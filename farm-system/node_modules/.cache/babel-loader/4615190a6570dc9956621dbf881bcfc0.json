{"ast":null,"code":"// 请求天气接口\nexport const getWeatherDate = () => {\n  let url = '/weather/mojiweather/forecast.php'; // 封装 ajax\n\n  function xhrGet(url) {\n    return new Promise(function (resolve, reject) {\n      let xhr = new XMLHttpRequest();\n      xhr.open('GET', url);\n      xhr.send(null);\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4 && xhr.status === 200) {\n          resolve(JSON.parse(xhr.responseText));\n        } else {\n          reject(JSON.parse(xhr.responseText));\n        }\n      };\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n};","map":{"version":3,"sources":["E:/工作区/第三阶段练习/react/farm/farm-system/src/api/weather.js"],"names":["getWeatherDate","url","xhrGet","Promise","resolve","reject","xhr","XMLHttpRequest","open","send","onreadystatechange","readyState","status","JSON","parse","responseText","catch","err","console","log"],"mappings":"AAEA;AACA,OAAO,MAAMA,cAAc,GAAG,MAAM;AAChC,MAAIC,GAAG,GAAG,mCAAV,CADgC,CAEhC;;AACA,WAASC,MAAT,CAAgBD,GAAhB,EAAqB;AACjB,WAAO,IAAIE,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,UAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACAD,MAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBP,GAAhB;AACAK,MAAAA,GAAG,CAACG,IAAJ,CAAS,IAAT;;AACAH,MAAAA,GAAG,CAACI,kBAAJ,GAAyB,YAAY;AACjC,YAAIJ,GAAG,CAACK,UAAJ,KAAmB,CAAnB,IAAwBL,GAAG,CAACM,MAAJ,KAAe,GAA3C,EAAgD;AAC5CR,UAAAA,OAAO,CAACS,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,YAAf,CAAD,CAAP;AACH,SAFD,MAEO;AACHV,UAAAA,MAAM,CAACQ,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,YAAf,CAAD,CAAN;AACH;AACJ,OAND;AAOH,KAXM,EAWJC,KAXI,CAWGC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAbM,CAAP;AAcH;AACJ,CAnBM","sourcesContent":["\r\n\r\n// 请求天气接口\r\nexport const getWeatherDate = () => {\r\n    let url = '/weather/mojiweather/forecast.php'\r\n    // 封装 ajax\r\n    function xhrGet(url) {\r\n        return new Promise(function(resolve, reject) {\r\n            let xhr = new XMLHttpRequest()\r\n            xhr.open('GET', url)\r\n            xhr.send(null)\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState === 4 && xhr.status === 200) {\r\n                    resolve(JSON.parse(xhr.responseText))\r\n                } else {\r\n                    reject(JSON.parse(xhr.responseText))\r\n                }\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}