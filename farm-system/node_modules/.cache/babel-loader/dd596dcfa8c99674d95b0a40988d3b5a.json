{"ast":null,"code":"// import axios from 'axios'\n// import {getItem} from '../utils/webStorage'\n// import store from  '../store/store'\n// import ActionCreator from  '../store/actionCreator'\n// // Add a request interceptor\n// axios.interceptors.request.use(function (config) {\n//   // Do something before request is sent\n//   //从缓存获取token 添加\n//   config.data.token=getItem('token')||''\n//   console.log(config)\n//   return config;\n// }, function (error) {\n//   // Do something with request error\n//   return Promise.reject(error);\n// });\n// // Add a response interceptor\n// axios.interceptors.response.use(function (response) {\n//   // Do something with response data\n//   let list=[-996,-997,-998,-999]\n//   if(list.indexOf(response.data.err)!==-1){\n//     // token 出问题了\n//     console.log('token 出问题了',response.data.err)\n//     store.dispatch(ActionCreator.setTokenModal(true))\n//     return Promise.reject(response);\n//   }\n//   return response.data;\n// }, function (error) {\n//   // Do something with response error\n//   return Promise.reject(error);\n// });\n// export default axios","map":{"version":3,"sources":["E:/工作区/第三阶段练习/react/farm/farm-system/src/utils/axios.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import axios from 'axios'\r\n// import {getItem} from '../utils/webStorage'\r\n// import store from  '../store/store'\r\n// import ActionCreator from  '../store/actionCreator'\r\n// // Add a request interceptor\r\n// axios.interceptors.request.use(function (config) {\r\n//   // Do something before request is sent\r\n//   //从缓存获取token 添加\r\n//   config.data.token=getItem('token')||''\r\n//   console.log(config)\r\n//   return config;\r\n// }, function (error) {\r\n//   // Do something with request error\r\n//   return Promise.reject(error);\r\n// });\r\n\r\n// // Add a response interceptor\r\n// axios.interceptors.response.use(function (response) {\r\n//   // Do something with response data\r\n//   let list=[-996,-997,-998,-999]\r\n//   if(list.indexOf(response.data.err)!==-1){\r\n//     // token 出问题了\r\n//     console.log('token 出问题了',response.data.err)\r\n//     store.dispatch(ActionCreator.setTokenModal(true))\r\n\r\n//     return Promise.reject(response);\r\n//   }\r\n//   return response.data;\r\n// }, function (error) {\r\n//   // Do something with response error\r\n//   return Promise.reject(error);\r\n// });\r\n\r\n// export default axios\r\n"]},"metadata":{},"sourceType":"module"}