{"ast":null,"code":"// 封装 ajax\nnew Promise(function xhrGet(url) {\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', url);\n  xhr.send(null);\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      return true;\n    }\n  };\n\n  console.log('📇📜: xhrGet -> xhr', xhr);\n  return JSON.parse(xhr.responseText);\n}); // 请求天气接口\n\nexport const getWeatherDate = () => {\n  return new Promise((resolve, reject) => {\n    let url = '/weather/mojiweather/forecast.php';\n    xhrGet(url).then(res => {\n      if (res.code === 0) {\n        resolve(res);\n      } else {\n        reject(res);\n      }\n    });\n  });\n};","map":{"version":3,"sources":["E:/工作区/第三阶段练习/react/farm/farm-system/src/api/weather.js"],"names":["Promise","xhrGet","url","xhr","XMLHttpRequest","open","send","onreadystatechange","readyState","status","console","log","JSON","parse","responseText","getWeatherDate","resolve","reject","then","res","code"],"mappings":"AAAA;AACA,IAAIA,OAAJ,CAAY,SAASC,MAAT,CAAgBC,GAAhB,EAAqB;AAC7B,MAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBH,GAAhB;AACAC,EAAAA,GAAG,CAACG,IAAJ,CAAS,IAAT;;AACAH,EAAAA,GAAG,CAACI,kBAAJ,GAAyB,YAAY;AACjC,QAAIJ,GAAG,CAACK,UAAJ,KAAmB,CAAnB,IAAwBL,GAAG,CAACM,MAAJ,KAAe,GAA3C,EAAgD;AAC5C,aAAO,IAAP;AACH;AACJ,GAJD;;AAKAC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCR,GAAnC;AACA,SAAOS,IAAI,CAACC,KAAL,CAAWV,GAAG,CAACW,YAAf,CAAP;AACH,CAXD,E,CAaA;;AACA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAChC,SAAO,IAAIf,OAAJ,CAAY,CAACgB,OAAD,EAAUC,MAAV,KAAqB;AACpC,QAAIf,GAAG,GAAG,mCAAV;AACAD,IAAAA,MAAM,CAACC,GAAD,CAAN,CACKgB,IADL,CACWC,GAAD,IAAS;AACX,UAAIA,GAAG,CAACC,IAAJ,KAAa,CAAjB,EAAoB;AAChBJ,QAAAA,OAAO,CAACG,GAAD,CAAP;AACH,OAFD,MAEO;AACHF,QAAAA,MAAM,CAACE,GAAD,CAAN;AACH;AACJ,KAPL;AAQH,GAVM,CAAP;AAWH,CAZM","sourcesContent":["// 封装 ajax\r\nnew Promise(function xhrGet(url) {\r\n    let xhr = new XMLHttpRequest()\r\n    xhr.open('GET', url)\r\n    xhr.send(null)\r\n    xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4 && xhr.status === 200) {\r\n            return true\r\n        }\r\n    }\r\n    console.log('📇📜: xhrGet -> xhr', xhr)\r\n    return JSON.parse(xhr.responseText)\r\n})\r\n\r\n// 请求天气接口\r\nexport const getWeatherDate = () => {\r\n    return new Promise((resolve, reject) => {\r\n        let url = '/weather/mojiweather/forecast.php'\r\n        xhrGet(url)\r\n            .then((res) => {\r\n                if (res.code === 0) {\r\n                    resolve(res)\r\n                } else {\r\n                    reject(res)\r\n                }\r\n            })\r\n    })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}