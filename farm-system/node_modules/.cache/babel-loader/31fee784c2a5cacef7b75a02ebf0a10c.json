{"ast":null,"code":"// 封装 ajax\nfunction xhrGet(url, callback) {\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', url);\n  xhr.send(null);\n  let res = '';\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      res = JSON.parse(xhr.responseText);\n    }\n\n    return;\n  };\n} // 请求天气接口\n\n\nexport const getWeatherDate = async () => {\n  let url = '/weather/mojiweather/forecast.php';\n  let result = '';\n  xhrGet(url, result = await function (res) {\n    return res;\n  });\n  return result;\n  console.log('📇📜: getWeatherDate -> result', result);\n};","map":{"version":3,"sources":["E:/工作区/第三阶段练习/react/farm/farm-system/src/api/weather.js"],"names":["xhrGet","url","callback","xhr","XMLHttpRequest","open","send","res","onreadystatechange","readyState","status","JSON","parse","responseText","getWeatherDate","result","console","log"],"mappings":"AAAA;AACA,SAASA,MAAT,CAAgBC,GAAhB,EAAqBC,QAArB,EAA+B;AAC3B,MAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBJ,GAAhB;AACAE,EAAAA,GAAG,CAACG,IAAJ,CAAS,IAAT;AACA,MAAIC,GAAG,GAAG,EAAV;;AACAJ,EAAAA,GAAG,CAACK,kBAAJ,GAAyB,YAAY;AACjC,QAAIL,GAAG,CAACM,UAAJ,KAAmB,CAAnB,IAAwBN,GAAG,CAACO,MAAJ,KAAe,GAA3C,EAAgD;AAC5CH,MAAAA,GAAG,GAAGI,IAAI,CAACC,KAAL,CAAWT,GAAG,CAACU,YAAf,CAAN;AACH;;AACD;AACH,GALD;AAMH,C,CAED;;;AACA,OAAO,MAAMC,cAAc,GAAG,YAAY;AACtC,MAAIb,GAAG,GAAG,mCAAV;AACA,MAAIc,MAAM,GAAG,EAAb;AACAf,EAAAA,MAAM,CAACC,GAAD,EAAMc,MAAM,GAAG,MAAM,UAASR,GAAT,EAAc;AACrC,WAAOA,GAAP;AACH,GAFK,CAAN;AAGA,SAAOQ,MAAP;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CF,MAA9C;AACH,CARM","sourcesContent":["// 封装 ajax\r\nfunction xhrGet(url, callback) {\r\n    let xhr = new XMLHttpRequest()\r\n    xhr.open('GET', url)\r\n    xhr.send(null)\r\n    let res = ''\r\n    xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4 && xhr.status === 200) {\r\n            res = JSON.parse(xhr.responseText)\r\n        }\r\n        return\r\n    }\r\n}\r\n\r\n// 请求天气接口\r\nexport const getWeatherDate = async () => {\r\n    let url = '/weather/mojiweather/forecast.php'\r\n    let result = ''\r\n    xhrGet(url, result = await function(res) {\r\n        return res\r\n    })\r\n    return result\r\n    console.log('📇📜: getWeatherDate -> result', result)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}